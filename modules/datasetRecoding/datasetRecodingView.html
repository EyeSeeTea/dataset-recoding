<!--   
   Copyright (c) 2015.
 
   This file is part of DataSet Recoding.
 
   DataSet Recoding is free software: you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.
 
   Project Manager is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.
 
   You should have received a copy of the GNU General Public License
   along with DataSet Recoding.  If not, see <http://www.gnu.org/licenses/>. -->

<h2>{{'DATASET_RECODING_TITLE' | translate}}</h2>

<div class="alert alert-warning alert-dismissible" ng-show="showFeedback">
    <button type="button" class="close" aria-label="Close" ng-click="closeAlert()"><span aria-hidden="true">&times;</span></button>
    {{ 'DATA_MOVED' | translate }}
</div>

<form class="form-horizontal">
    <fieldset ng-disabled="updateFormVisible()">
        <datavalues-form accessor="formRead" role="read" enabled="!updateFormVisible()">
        </datavalues-form>

        <!-- button row -->
        <div class="form-group" ng-hide="updateFormVisible()">
            <div class="col-sm-offset-2 col-sm-10">
                <button class="btn btn-default" ng-disabled="!formRead.isInputSelected()" ng-click="loadForm()">{{ 'GET_DATA' | translate }}</button>
                <button ng-click="cancel()" class="btn btn-default">{{ 'CANCEL' | translate }}</button>
                <button class="btn btn-primary" ng-show="formRead.isInputSelected()" ng-click="startRecode()">{{ 'RECODE' | translate }} ↓</button>
            </div>
        </div>
    </fieldset>
    
    <div ng-show="updateFormVisible()">
        <img src="img/arrow-down.png" ng-style="{'display': 'block', 'margin': '0 auto', 'width': '80px', height: '60px'}"></img>
        <datavalues-form accessor="formUpdate" role="update" enabled="updateFormVisible()">
        </datavalues-form>

        <!-- button row -->
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button class="btn btn-primary" ng-disabled="!readyToMove()" ng-click="moveFormData()">{{ 'UPDATE' | translate }}</button>
                <button ng-click="cancelUpdate()" class="btn btn-default">{{ 'CANCEL' | translate }} ↑</button>
            </div>
        </div>
    </div>
</form>

<!-- default loader -->

<d2-loader></d2-loader>

<!-- Data container -->
<div id=" contentDiv " class="row ">
    <div class="col-md-10 col-md-offset-2 ">
        <ng-bind-html ng-bind-html="currentForm | html ">
        </ng-bind-html>
    </div>
</div>
